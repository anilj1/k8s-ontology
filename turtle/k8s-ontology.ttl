@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix k8s: <http://example.org/k8s-ontology#> .

<http://example.org/k8s-ontology> rdf:type owl:Ontology ;
    rdfs:label "Kubernetes Knowledge Graph Ontology" ;
    rdfs:comment "A comprehensive ontology for K8s modeling physical infrastructure, virtual networking, workload replication, and operational logs." .

#################################################################
#    Classes
#################################################################

k8s:Cluster rdf:type owl:Class .
k8s:Namespace rdf:type owl:Class .
k8s:Node rdf:type owl:Class .
k8s:Pod rdf:type owl:Class .
k8s:Container rdf:type owl:Class .
k8s:Service rdf:type owl:Class .
k8s:Deployment rdf:type owl:Class .
k8s:Event rdf:type owl:Class .

# Operational State Enumerations
k8s:PodPhase rdf:type owl:Class ;
    owl:oneOf ( k8s:Pending k8s:Running k8s:Succeeded k8s:Failed k8s:Unknown ) .

k8s:NodeCondition rdf:type owl:Class ;
    owl:oneOf ( k8s:Ready k8s:NotReady k8s:MemoryPressure k8s:DiskPressure ) .

#################################################################
#    Object Properties (Relationships)
#################################################################

k8s:hasNode rdf:type owl:ObjectProperty ;
    rdfs:domain k8s:Cluster ;
    rdfs:range k8s:Node .

k8s:runsOn rdf:type owl:ObjectProperty ;
    rdfs:domain k8s:Pod ;
    rdfs:range k8s:Node .

k8s:hasCurrentPhase rdf:type owl:ObjectProperty ;
    rdfs:domain k8s:Pod ;
    rdfs:range k8s:PodPhase .

k8s:hasNodeCondition rdf:type owl:ObjectProperty ;
    rdfs:domain k8s:Node ;
    rdfs:range k8s:NodeCondition .

# Replication Logic
k8s:managesReplica rdf:type owl:ObjectProperty ;
    rdfs:domain k8s:Deployment ;
    rdfs:range k8s:Pod .

k8s:generatedBy rdf:type owl:ObjectProperty ;
    owl:inverseOf k8s:managesReplica ;
    rdfs:domain k8s:Pod ;
    rdfs:range k8s:Deployment .

# Event Linkage
k8s:involvedObject rdf:type owl:ObjectProperty ;
    rdfs:domain k8s:Event ;
    rdfs:range [ rdf:type owl:Class ; owl:unionOf (k8s:Pod k8s:Node k8s:Service) ] .

#################################################################
#    Datatype Properties (Attributes & States)
#################################################################

# Identification
k8s:resourceName rdf:type owl:DatatypeProperty ;
    rdfs:range xsd:string .

# Networking
k8s:clusterVirtualIP rdf:type owl:DatatypeProperty ;
    rdfs:domain k8s:Cluster ;
    rdfs:range xsd:string .

k8s:nodeInternalIP rdf:type owl:DatatypeProperty ;
    rdfs:domain k8s:Node ;
    rdfs:range xsd:string .

k8s:podIP rdf:type owl:DatatypeProperty ;
    rdfs:domain k8s:Pod ;
    rdfs:range xsd:string .

k8s:nodePort rdf:type owl:DatatypeProperty ;
    rdfs:domain k8s:Service ;
    rdfs:range xsd:integer .

# Operational Metrics & Paths
k8s:restartCount rdf:type owl:DatatypeProperty ;
    rdfs:domain k8s:Container ;
    rdfs:range xsd:integer .

k8s:startTime rdf:type owl:DatatypeProperty ;
    rdfs:domain k8s:Pod ;
    rdfs:range xsd:dateTime .

k8s:logFilePath rdf:type owl:DatatypeProperty ;
    rdfs:comment "Absolute path to the log file on the Node's physical disk." ;
    rdfs:domain k8s:Pod ;
    rdfs:range xsd:string .

k8s:replicaIndex rdf:type owl:DatatypeProperty ;
    rdfs:domain k8s:Pod ;
    rdfs:range xsd:integer .

# Event Data
k8s:eventMessage rdf:type owl:DatatypeProperty ;
    rdfs:domain k8s:Event ;
    rdfs:range xsd:string .

k8s:eventReason rdf:type owl:DatatypeProperty ;
    rdfs:domain k8s:Event ;
    rdfs:range xsd:string .
